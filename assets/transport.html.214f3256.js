import{_ as l,r as c,o as u,c as i,a as n,b as s,d as t,w as a,f as r,e}from"./app.defb07fa.js";const d={},k=e(`<h1 id="transport" tabindex="-1"><a class="header-anchor" href="#transport" aria-hidden="true">#</a> Transport</h1><p>底层传输方式（transport）是当前 V2Ray 节点和其它节点对接的方式。底层传输方式提供了稳定的数据传输通道。通常来说，一个网络连接的两端需要有对称的传输方式。比如一端用了 WebSocket，那么另一个端也必须使用 WebSocket，否则无法建立连接。</p><p>底层传输（transport）配置分为两部分，一是全局设置（<a href="#transportobject">TransportObject</a>），二是分协议配置（<a href="#streamsettingsobject">StreamSettingsObject</a>）。分协议配置可以指定每个单独的入站出站协议用怎样的方式传输。通常来说客户端和服务器对应的出站入站协议需要使用同样的传输方式。当分协议传输配置指定了一种传输方式，但没有填写其设置时，此传输方式会使用全局配置中的设置。</p><h2 id="transportobject" tabindex="-1"><a class="header-anchor" href="#transportobject" aria-hidden="true">#</a> TransportObject</h2><p><code>TransportObject</code> 对应配置文件的 <code>transport</code> 项。</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;tcpSettings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;kcpSettings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;wsSettings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;httpSettings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;quicSettings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;dsSettings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;grpcSettings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),q=n("code",null,"tcpSettings",-1),v=n("p",null,"针对 TCP 连接的配置。",-1),b=n("code",null,"kcpSettings",-1),m=n("p",null,"针对 mKCP 连接的配置。",-1),g=n("code",null,"wsSettings",-1),h=n("p",null,"针对 WebSocket 连接的配置。",-1),_=n("code",null,"httpSettings",-1),f=n("p",null,"针对 HTTP/2 连接的配置。",-1),S=n("code",null,"quicSettings",-1),A=n("p",null,"针对 QUIC 连接的配置。",-1),y=n("code",null,"dsSettings",-1),j=n("p",null,"针对 Domain Socket 连接的配置。",-1),C=n("code",null,"grpcSettings",-1),T=e(`<p>针对 gRPC 连接的配置。 (v4.36.0+)</p><h2 id="streamsettingsobject" tabindex="-1"><a class="header-anchor" href="#streamsettingsobject" aria-hidden="true">#</a> StreamSettingsObject</h2><p><code>StreamSettingsObject</code> 对应出站入站协议中的 <code>streamSettings</code> 项。每一个入站、出站连接都可以分别配置不同的传输配置，都可以设置 <code>streamSettings</code> 来进行一些传输的配置。</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;network&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tcp&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;security&quot;</span><span class="token operator">:</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tlsSettings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tcpSettings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;kcpSettings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;wsSettings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;httpSettings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;quicSettings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;dsSettings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;grpcSettings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sockopt&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;mark&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token property">&quot;tcpFastOpen&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token property">&quot;tcpFastOpenQueueLength&quot;</span><span class="token operator">:</span> <span class="token number">4096</span><span class="token punctuation">,</span>
        <span class="token property">&quot;tproxy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;tcpKeepAliveInterval&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>network</code>: &quot;tcp&quot; | &quot;kcp&quot; | &quot;ws&quot; | &quot;http&quot; | &quot;domainsocket&quot; | &quot;quic&quot; | &quot;grpc&quot;</p></blockquote><p>数据流所使用的网络类型，默认值为 <code>&quot;tcp&quot;</code></p><blockquote><p><code>security</code>: &quot;none&quot; | &quot;tls&quot;</p></blockquote>`,7),x=n("code",null,'"none"',-1),w=n("code",null,'"tls"',-1),E={href:"https://en.wikipedia.org/wiki/Transport_Layer_Security",target:"_blank",rel:"noopener noreferrer"},O=n("blockquote",null,[n("p",null,[n("code",null,"tlsSettings"),s(": "),n("a",{href:"#tlsobject"},"TLSObject")])],-1),I=n("p",null,"TLS 配置。TLS 由 Golang 提供，支持 TLS 1.3，不支持 DTLS。",-1),P=n("code",null,"tcpSettings",-1),L=n("p",null,"当前连接的 TCP 配置，仅当此连接使用 TCP 时有效。配置内容与上面的全局配置相同。",-1),B=n("code",null,"kcpSettings",-1),F=n("p",null,"当前连接的 mKCP 配置，仅当此连接使用 mKCP 时有效。配置内容与上面的全局配置相同。",-1),Q=n("code",null,"wsSettings",-1),R=n("p",null,"当前连接的 WebSocket 配置，仅当此连接使用 WebSocket 时有效。配置内容与上面的全局配置相同。",-1),V=n("code",null,"httpSettings",-1),D=n("p",null,"当前连接的 HTTP/2 配置，仅当此连接使用 HTTP/2 时有效。配置内容与上面的全局配置相同。",-1),N=n("code",null,"quicSettings",-1),G=n("p",null,"当前连接的 QUIC 配置，仅当此连接使用 QUIC 时有效。配置内容与上面的全局配置相同。",-1),K=n("code",null,"dsSettings",-1),M=n("p",null,"当前连接的 Domain socket 配置，仅当此连接使用 Domain socket 时有效。配置内容与上面的全局配置相同。",-1),U=n("code",null,"grpcSettings",-1),W=e(`<p>当前连接的 gRPC 配置，仅当此连接使用 gRPC 时有效。配置内容与上面的全局配置相同。</p><blockquote><p><code>sockopt</code>: <a href="#sockoptobject">SockoptObject</a></p></blockquote><p>用作透明代理的配置。</p><h2 id="tlsobject" tabindex="-1"><a class="header-anchor" href="#tlsobject" aria-hidden="true">#</a> TLSObject</h2><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;serverName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;v2ray.com&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;alpn&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;h2&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;http/1.1&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;allowInsecure&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;disableSystemRoot&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;certificates&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;verifyClientCertificate&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pinnedPeerCertificateChainSha256&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>serverName</code>: string</p></blockquote><p>指定服务器端证书的域名，在连接由 IP 建立时有用。当目标连接由域名指定时，比如在 Socks 入站时接收到了域名，或者由 Sniffing 功能探测出了域名，这个域名会自动用于 <code>serverName</code>，无须手动配置。</p><blockquote><p><code>alpn</code>: [ string ]</p></blockquote><p>一个字符串数组，指定了 TLS 握手时指定的 ALPN 数值。默认值为 <code>[&quot;h2&quot;, &quot;http/1.1&quot;]</code>。</p><blockquote><p><code>allowInsecure</code>: true | false</p></blockquote><p>是否允许不安全连接（仅用于客户端）。默认值为 <code>false</code>。当值为 <code>true</code> 时，V2Ray 不会检查远端主机所提供的 TLS 证书的有效性。</p><blockquote><p><code>disableSystemRoot</code>: true | false</p></blockquote><p>（V2Ray 4.18+）是否禁用操作系统自带的 CA 证书。默认值为 <code>false</code>。当值为 <code>true</code> 时，V2Ray 只会使用 <code>certificates</code> 中指定的证书进行 TLS 握手。当值为 <code>false</code> 时，V2Ray 只会使用操作系统自带的 CA 证书进行 TLS 握手。</p><blockquote><p><code>certificates</code>: [ <a href="#certificateobject">CertificateObject</a> ]</p></blockquote><p>证书列表，其中每一项表示一个证书（建议 fullchain）。</p><blockquote><p><code>pinnedPeerCertificateChainSha256</code>: [ string ]</p></blockquote><p>使用标准编码格式表示的远程服务器的证书链的SHA256散列值。在设置后，远程服务器的证书链的散列值必须为列表中的数值之一。(v4.38.0+)</p>`,17),Y=e(`<p>在连接因为此策略失败时，会展示此证书链散列。不建议使用这种方式获得证书链散列值，因为在这种情况下您没有机会验证此时服务器提供的证书是否为真实证书。</p><blockquote><p><code>verifyClientCertificate</code>: true | false</p></blockquote><p>在连接时进行客户端证书认证。在打开此选项后，客户端将需要配置客户端证书才能连接到服务器端。(4.42.0+) 客户端证书必须由程序内配置的客户端证书颁发机构签发。系统内置证书颁发机构以及用于认证服务器端的证书颁发机构不会自动被信任。</p><h3 id="certificateobject" tabindex="-1"><a class="header-anchor" href="#certificateobject" aria-hidden="true">#</a> CertificateObject</h3><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;usage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;encipherment&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;certificateFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/path/to/certificate.crt&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;keyFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/path/to/key.key&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;certificate&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;-----BEGIN CERTIFICATE-----&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;MIICwDCCAaigAwIBAgIRAO16JMdESAuHidFYJAR/7kAwDQYJKoZIhvcNAQELBQAw&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;ADAeFw0xODA0MTAxMzU1MTdaFw0xODA0MTAxNTU1MTdaMAAwggEiMA0GCSqGSIb3&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;DQEBAQUAA4IBDwAwggEKAoIBAQCs2PX0fFSCjOemmdm9UbOvcLctF94Ox4BpSfJ+&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;3lJHwZbvnOFuo56WhQJWrclKoImp/c9veL1J4Bbtam3sW3APkZVEK9UxRQ57HQuw&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;OzhV0FD20/0YELou85TwnkTw5l9GVCXT02NG+pGlYsFrxesUHpojdl8tIcn113M5&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;pypgDPVmPeeORRf7nseMC6GhvXYM4txJPyenohwegl8DZ6OE5FkSVR5wFQtAhbON&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;OAkIVVmw002K2J6pitPuJGOka9PxcCVWhko/W+JCGapcC7O74palwBUuXE1iH+Jp&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;noPjGp4qE2ognW3WH/sgQ+rvo20eXb9Um1steaYY8xlxgBsXAgMBAAGjNTAzMA4G&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;A1UdDwEB/wQEAwIFoDATBgNVHSUEDDAKBggrBgEFBQcDATAMBgNVHRMBAf8EAjAA&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;MA0GCSqGSIb3DQEBCwUAA4IBAQBUd9sGKYemzwPnxtw/vzkV8Q32NILEMlPVqeJU&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;7UxVgIODBV6A1b3tOUoktuhmgSSaQxjhYbFAVTD+LUglMUCxNbj56luBRlLLQWo+&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;9BUhC/ow393tLmqKcB59qNcwbZER6XT5POYwcaKM75QVqhCJVHJNb1zSEE7Co7iO&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;6wIan3lFyjBfYlBEz5vyRWQNIwKfdh5cK1yAu13xGENwmtlSTHiwbjBLXfk+0A/8&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;r/2s+sCYUkGZHhj8xY7bJ1zg0FRalP5LrqY+r6BckT1QPDIQKYy615j1LpOtwZe/&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;d4q7MD/dkzRDsch7t2cIjM/PYeMuzh87admSyL6hdtK0Nm/Q&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;-----END CERTIFICATE-----&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;-----BEGIN RSA PRIVATE KEY-----&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;MIIEowIBAAKCAQEArNj19HxUgoznppnZvVGzr3C3LRfeDseAaUnyft5SR8GW75zh&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;bqOeloUCVq3JSqCJqf3Pb3i9SeAW7Wpt7FtwD5GVRCvVMUUOex0LsDs4VdBQ9tP9&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;GBC6LvOU8J5E8OZfRlQl09NjRvqRpWLBa8XrFB6aI3ZfLSHJ9ddzOacqYAz1Zj3n&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;jkUX+57HjAuhob12DOLcST8np6IcHoJfA2ejhORZElUecBULQIWzjTgJCFVZsNNN&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;itieqYrT7iRjpGvT8XAlVoZKP1viQhmqXAuzu+KWpcAVLlxNYh/iaZ6D4xqeKhNq&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;IJ1t1h/7IEPq76NtHl2/VJtbLXmmGPMZcYAbFwIDAQABAoIBAFCgG4phfGIxK9Uw&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;qrp+o9xQLYGhQnmOYb27OpwnRCYojSlT+mvLcqwvevnHsr9WxyA+PkZ3AYS2PLue&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;C4xW0pzQgdn8wENtPOX8lHkuBocw1rNsCwDwvIguIuliSjI8o3CAy+xVDFgNhWap&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;/CMzfQYziB7GlnrM6hH838iiy0dlv4I/HKk+3/YlSYQEvnFokTf7HxbDDmznkJTM&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;aPKZ5qbnV+4AcQfcLYJ8QE0ViJ8dVZ7RLwIf7+SG0b0bqloti4+oQXqGtiESUwEW&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;/Wzi7oyCbFJoPsFWp1P5+wD7jAGpAd9lPIwPahdr1wl6VwIx9W0XYjoZn71AEaw4&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;bK4xUXECgYEA3g2o9WqyrhYSax3pGEdvV2qN0VQhw7Xe+jyy98CELOO2DNbB9QNJ&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;8cSSU/PjkxQlgbOJc8DEprdMldN5xI/srlsbQWCj72wXxXnVnh991bI2clwt7oYi&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;pcGZwzCrJyFL+QaZmYzLxkxYl1tCiiuqLm+EkjxCWKTX/kKEFb6rtnMCgYEAx0WR&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;L8Uue3lXxhXRdBS5QRTBNklkSxtU+2yyXRpvFa7Qam+GghJs5RKfJ9lTvjfM/PxG&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;3vhuBliWQOKQbm1ZGLbgGBM505EOP7DikUmH/kzKxIeRo4l64mioKdDwK/4CZtS7&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;az0Lq3eS6bq11qL4mEdE6Gn/Y+sqB83GHZYju80CgYABFm4KbbBcW+1RKv9WSBtK&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;gVIagV/89moWLa/uuLmtApyEqZSfn5mAHqdc0+f8c2/Pl9KHh50u99zfKv8AsHfH&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TtjuVAvZg10GcZdTQ/I41ruficYL0gpfZ3haVWWxNl+J47di4iapXPxeGWtVA+u8&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;eH1cvgDRMFWCgE7nUFzE8wKBgGndUomfZtdgGrp4ouLZk6W4ogD2MpsYNSixkXyW&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;64cIbV7uSvZVVZbJMtaXxb6bpIKOgBQ6xTEH5SMpenPAEgJoPVts816rhHdfwK5Q&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;8zetklegckYAZtFbqmM0xjOI6bu5rqwFLWr1xo33jF0wDYPQ8RHMJkruB1FIB8V2&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;GxvNAoGBAM4g2z8NTPMqX+8IBGkGgqmcYuRQxd3cs7LOSEjF9hPy1it2ZFe/yUKq&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;ePa2E8osffK5LBkFzhyQb0WrGC9ijM9E6rv10gyuNjlwXdFJcdqVamxwPUBtxRJR&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;cYTY2HRkJXDdtT0Bkc3josE6UUDvwMpO0CfAETQPto1tjNEDhQhT&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;-----END RSA PRIVATE KEY-----&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>usage</code>: &quot;encipherment&quot; | &quot;verify&quot; | &quot;issue&quot; | &quot;verifyclient&quot;</p></blockquote><p>证书用途，默认值为 <code>&quot;encipherment&quot;</code>。</p><ul><li><code>&quot;encipherment&quot;</code>：证书用于 TLS 认证和加密。</li><li><code>&quot;verify&quot;</code>：证书用于验证远端 TLS 的证书。当使用此项时，当前证书必须为 CA 证书。</li><li><code>&quot;issue&quot;</code>：证书用于签发其它证书。当使用此项时，当前证书必须为 CA 证书。</li><li><code>&quot;verifyclient&quot;</code>：用于验证客户端身份的证书颁发机构证书。当使用此项时，当前证书必须为 CA 证书。 (4.42.0+)</li></ul><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>在 Windows 平台上可以将自签名的 CA 证书安装到系统中，即可验证远端 TLS 的证书。</p></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>当有新的客户端请求时，假设所指定的 <code>serverName</code> 为 <code>&quot;v2ray.com&quot;</code>，V2Ray 会先从证书列表中寻找可用于 <code>&quot;v2ray.com&quot;</code> 的证书，如果没有找到，则使用任一 <code>usage</code> 为 <code>&quot;issue&quot;</code> 的证书签发一个适用于 <code>&quot;v2ray.com&quot;</code> 的证书，有效期为一小时。并将新的证书加入证书列表，以供后续使用。</p></div><blockquote><p><code>certificateFile</code>: string</p></blockquote><p>证书文件路径，如使用 OpenSSL 生成，后缀名为 .crt。</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>使用 <code>v2ctl cert -ca</code> 可以生成自签名的 CA 证书。</p></div><blockquote><p><code>certificate</code>: [ string ]</p></blockquote><p>一个字符串数组，表示证书内容，格式如样例所示。<code>certificate</code> 和 <code>certificateFile</code> 二者选一。</p><blockquote><p><code>keyFile</code>: string</p></blockquote><p>密钥文件路径，如使用 OpenSSL 生成，后缀名为 .key。目前暂不支持需要密码的 key 文件。</p><blockquote><p><code>key</code>: [ string ]</p></blockquote><p>一个字符串数组，表示密钥内容，格式如样例如示。<code>key</code> 和 <code>keyFile</code> 二者选一。</p><p>当 <code>certificateFile</code> 和 <code>certificate</code> 同时指定时，V2Ray 优先使用 <code>certificateFile</code>。<code>keyFile</code> 和 <code>key</code> 也一样。</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>当 <code>usage</code> 为 <code>&quot;verify&quot;</code> 时，<code>keyFile</code> 和 <code>key</code> 可均为空。</p></div><h2 id="sockoptobject" tabindex="-1"><a class="header-anchor" href="#sockoptobject" aria-hidden="true">#</a> SockoptObject</h2><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;mark&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tcpFastOpen&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tcpFastOpenQueueLength&quot;</span><span class="token operator">:</span> <span class="token number">4096</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tproxy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tcpKeepAliveInterval&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>mark</code>: number</p></blockquote><p>一个整数。当其值非零时，在出站连接上标记 SO_MARK。</p><ul><li>仅适用于 Linux 系统。</li><li>需要 CAP_NET_ADMIN 权限。</li></ul><blockquote><p><code>tcpFastOpen</code>: true | false</p></blockquote>`,27),J={href:"https://zh.wikipedia.org/wiki/TCP%E5%BF%AB%E9%80%9F%E6%89%93%E5%BC%80",target:"_blank",rel:"noopener noreferrer"},H=n("code",null,"true",-1),Z=n("code",null,"false",-1),z=n("ul",null,[n("li",null,[s("仅在以下版本（或更新版本）的操作系统中可用: "),n("ul",null,[n("li",null,"Windows 10 (1604)"),n("li",null,"Mac OS 10.11 / iOS 9"),n("li",null,"Linux 3.16：系统已默认开启，无需配置。"),n("li",null,"FreeBSD 10.3")])])],-1),X=n("blockquote",null,[n("p",null,[n("code",null,"tcpFastOpenQueueLength"),s(": number")])],-1),$={href:"https://zh.wikipedia.org/wiki/TCP%E5%BF%AB%E9%80%9F%E6%89%93%E5%BC%80",target:"_blank",rel:"noopener noreferrer"},nn=n("code",null,"4096",-1),sn=e("<blockquote><p><code>tproxy</code>: &quot;redirect&quot; | &quot;tproxy&quot; | &quot;off&quot;</p></blockquote><p>是否开启透明代理（仅适用于 Linux）。</p><ul><li><code>&quot;redirect&quot;</code>：使用 Redirect 模式的透明代理。支持 TCP 和 UDP 连接。</li><li><code>&quot;tproxy&quot;</code>：使用 TProxy 模式的透明代理。支持 TCP 和 UDP 连接。</li><li><code>&quot;off&quot;</code>：关闭透明代理。</li></ul><p>透明代理需要 Root 或 CAP_NET_ADMIN 权限。</p>",4),tn={class:"custom-container tip"},on=n("p",{class:"custom-container-title"},"TIP",-1),an=n("code",null,"followRedirect",-1),en=n("code",null,"sockopt.tproxy",-1),pn=n("code",null,"sockopt.tproxy",-1),cn=n("code",null,'"redirect"',-1),ln=n("blockquote",null,[n("p",null,[n("code",null,"tcpKeepAliveInterval"),s(": number")])],-1),un=n("p",null,"TCP 保持活跃的数据包的发送间隔，以秒为单位（仅适用于 Linux）。 (v4.39.0+)",-1),rn=n("p",null,"0 代表保持默认值。",-1);function dn(kn,qn){const o=c("RouterLink"),p=c("ExternalLinkIcon");return u(),i("div",null,[k,n("blockquote",null,[n("p",null,[q,s(": "),t(o,{to:"/config/transport/tcp.html"},{default:a(()=>[s("TcpObject")]),_:1})])]),v,n("blockquote",null,[n("p",null,[b,s(": "),t(o,{to:"/config/transport/mkcp.html"},{default:a(()=>[s("KcpObject")]),_:1})])]),m,n("blockquote",null,[n("p",null,[g,s(": "),t(o,{to:"/config/transport/websocket.html"},{default:a(()=>[s("WebSocketObject")]),_:1})])]),h,n("blockquote",null,[n("p",null,[_,s(": "),t(o,{to:"/config/transport/h2.html"},{default:a(()=>[s("HttpObject")]),_:1})])]),f,n("blockquote",null,[n("p",null,[S,s(": "),t(o,{to:"/config/transport/quic.html"},{default:a(()=>[s("QuicObject")]),_:1})])]),A,n("blockquote",null,[n("p",null,[y,s(": "),t(o,{to:"/config/transport/domainsocket.html"},{default:a(()=>[s("DomainSocketObject")]),_:1})])]),j,n("blockquote",null,[n("p",null,[C,s(": "),t(o,{to:"/config/transport/grpc.html"},{default:a(()=>[s("grpcObject")]),_:1})])]),T,n("p",null,[s("是否启用传输层加密，支持的选项有 "),x,s(" 表示不加密（默认值），"),w,s(" 表示使用 "),n("a",E,[s("TLS"),t(p)]),s("。")]),O,I,n("blockquote",null,[n("p",null,[P,s(": "),t(o,{to:"/config/transport/tcp.html"},{default:a(()=>[s("TcpObject")]),_:1})])]),L,n("blockquote",null,[n("p",null,[B,s(": "),t(o,{to:"/config/transport/mkcp.html"},{default:a(()=>[s("KcpObject")]),_:1})])]),F,n("blockquote",null,[n("p",null,[Q,s(": "),t(o,{to:"/config/transport/websocket.html"},{default:a(()=>[s("WebSocketObject")]),_:1})])]),R,n("blockquote",null,[n("p",null,[V,s(": "),t(o,{to:"/config/transport/h2.html"},{default:a(()=>[s("HttpObject")]),_:1})])]),D,n("blockquote",null,[n("p",null,[N,s(": "),t(o,{to:"/config/transport/quic.html"},{default:a(()=>[s("QUICObject")]),_:1})])]),G,n("blockquote",null,[n("p",null,[K,s(": "),t(o,{to:"/config/transport/domainsocket.html"},{default:a(()=>[s("DomainSocketObject")]),_:1})])]),M,n("blockquote",null,[n("p",null,[U,s(": "),t(o,{to:"/config/transport/grpc.html"},{default:a(()=>[s("grpcObject")]),_:1})])]),W,r(`
此数值可以使用V2Ray自带的 v2ctl 工具的 certChainHash 工具根据服务器的证书链文件进行计算(按照管理，这个文件的名字一般叫 fullchain.pem )。如果没有中间证书（如自签发证书），证书链的散列值和证书本身的散列值相同。`),Y,n("p",null,[s("是否启用 "),n("a",J,[s("TCP Fast Open"),t(p)]),s("。当其值为 "),H,s(" 时，强制开启 TFO；当其值为 "),Z,s(" 时，强制关闭 TFO；当此项不存在时，使用系统默认设置。可用于入站出站连接。")]),z,X,n("p",null,[s("入站连接的 "),n("a",$,[s("TCP Fast Open"),t(p)]),s(" 队列长度，默认值为 "),nn,s("，仅在 Linux 中可用 (v4.43.0+)。")]),sn,n("div",tn,[on,n("p",null,[s("当 "),t(o,{to:"/config/protocols/dokodemo.html"},{default:a(()=>[s("Dokodemo-door")]),_:1}),s(" 中指定了 "),an,s("，且 "),en,s(" 为空时，"),pn,s(" 的值会被设为 "),cn,s("。")])]),ln,un,rn])}const bn=l(d,[["render",dn],["__file","transport.html.vue"]]);export{bn as default};
